<!DOCTYPE html>
<html>
  <head>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/p5.js/0.5.10/p5.js"></script>
    <link rel="stylesheet" href="firebaseP5JS.css">
    <script src="https://www.gstatic.com/firebasejs/4.0.0/firebase.js"></script>
    <link href="https://fonts.googleapis.com/css?family=Fredericka+the+Great" rel="stylesheet">
  </head>

  <body>
  
    <div class="container" id ="page1">
      <h1>Welcome to Canvas Testing</h1>
      <h3>Please sign-in with your LinkedIn account to continue</h3>

      <!--LinkedIn SignIn-->
      <script type="text/javascript" src="https://platform.linkedin.com/in.js">
        api_key:86ireca30pnbrz
        //onLoad: OnLinkedInFrameworkLoad
        authorize:true
      </script>

      <!--SignIn button for linkedIn-->
     <script type="in/Login"></script>

     <script>
    var liLogin = function() { // Setup an event listener to make an API call once auth is complete
        IN.UI.Authorize().params({"scope":["r_basicprofile", "r_emailaddress"]}).place();
        IN.Event.on(IN, 'auth', getProfileData);
    }

    var getProfileData = function() { // Use the API call wrapper to request the member's basic profile data
        IN.API.Profile("me").fields("id,firstName,lastName,email-address,picture-urls::(original),public-profile-url,location:(name)").result(function (me) {
            var profile = me.values[0];
            var id = profile.id;
            var firstName = profile.firstName;
            var lastName = profile.lastName;
            var emailAddress = profile.emailAddress;
            var pictureUrl = profile.pictureUrls.values[0];
            var profileUrl = profile.publicProfileUrl;
            var country = profile.location.name;

            /*var user = {
              emailId: emailAddress,
              profile: {
                fName: firstName,
                lName: lastName,
                pUrl: profileUrl
              }
            };*/
            console.log("first name is:", profile.firstName);
            console.log("last name is:",lastName);

        });
    }
    // Handle the successful return from the API call
    function onSuccess(data) {
        console.log(data);
    }

    // Handle an error response from the API call
    function onError(error) {
        console.log(error);
    }
</script>



      <!--Start button to continue to game page-->
      </br></br>
      <button onclick="return page2Handler();" type="submit">Start</button>
    </div>

    <div class="container" id="page2">
      <h1>Testing canvas</h1>
      <div id ="i1"><span id="i2"></span></div>
      <button id="bt1">Click</button></br></br></br>
      Name: <input type ="text" id="name" value=""></input>
      <button id="submit" type="submit" onclick="return page3Handler()">Submit</button>
    </div>

    <div class="container" id="page3">
      <h1>Your Canvas Score History<span id="scores"></span></h1>
      
    </div>
   
  <script src="https://code.jquery.com/jquery-3.1.1.min.js"></script>
  <script src="firebaseP5JSsketch.js"></script>
  </body>
</html>